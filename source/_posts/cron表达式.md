---
title: cron表达式
date: 2023-03-07 17:32:22
tags:
- cron
categories:
- 工具
cover: /images/background/fa407816f71148527e49d301011d9a35.jpeg
coverWidth: 1200
coverHeight: 320
author: 不二
---

cron使用
<!-- more -->

#### 介绍

在使用定时调度任务的时候，我们最常用的，就是`cron`表达式了。通过`cron`表达式来指定任务在某个时间点或者周期性的执行。`cron`表达式配置起来简洁方便，无论是`Spring`的`@Scheduled`还是用`Quartz`框架，都支持cron表达式。

#### 使用

##### 组成

`cron`表达式是一个字符串，由6到7位字符组成，前6位是必须的，后面一位是可选的

从左到右，依次对每个字段指定相应的值，就可以确定一个任务的执行时间点和周期了。值可以由数字配合字符来组合。

![image-20230307174212571](cron表达式/image-20230307174212571-8182134.png)

##### 常用的字符

###### `*`

每的意思，在不同的字符位上，就代表每秒，每分，每小时等。

`-`

指定值的范围。比如[1-10]，在秒字段里就是每分钟的第1到10秒，在分就是每小时的第1到10分钟，以此类推。

`,`

指定某几个值。比如[2,4,5]，在秒字段里就是每分钟的第2，第4，第5秒，以此类推。

`/`

定值的起始和增加幅度。比如[3/5]，在秒字段就是每分钟的第3秒开始，每隔5秒生效一次，也就是第3秒、8秒、13秒，以此类推。

`?`

仅用于【日】和【周】字段。因为在指定某日和周几的时候，这两个值实际上是冲突的，所以需要用【?】标识不生效的字段。比如【0 1 * * * ?】就代表每年每月每日每小时的1分0秒触发任务。这里的周就没有效果了

`SUN`

仅用于【周】字段，表示星期日。也可以用数字1设置。周日到周六分别为SUN，MON，TUE，WED，THU，FRI和SAT，对应数字1，2，3，4，5，6，7。目前Quartz支持。

`L`

即last，用于【日】【周】字段。这里需要注意的是，在不同的字段的不同使用方式，其含义有所差别。

**用于日字段**：直接使用L代表每个月的最后一天。也支持偏移量的方式，配置[L-1]则代表每月的倒数第二天。
**用于周字段**：直接使用L代表每周的最后一天，也就是等效于[7]或[SAT]，但是如果配合上数字，比如[7L]，则代表每个月最后一个周六，等效于[SATL]。目前Quartz支持。
